# -*- mode: yaml -*-

instances:
  - kali-light
targets:
  - metasploitable2
  - metasploitable3-win2008r2

kali-light:
  networks:
    - private_network:
        adapter: 2
        type: dhcp
        ip: 172.28.128.0/24
  vbox:
    customize:
      memory: 4096
  chef:
    recipes:
      - apt
      - git
      - couchdb
      - pentestenv::cscan
      - pentester::msf_pkg
    roles:
      - faraday-from-package
    json:
      faraday:
        config:
          couch_uri: http://127.0.0.1:5985
          last_workpace: cscan-pentest-env
      pentestenv:
        cscan:
          ips: [172.28.128.0/24]
          websites: []
          config:
            CS_CATEGORIES: network,extra
            CS_SCRIPTS: msf-basic-discovery-nmap.sh,msf-autoscan.sh,msf-autosploit.sh
            CS_NMAP: nmap
            CS_NMAP_ARGS: -p- -O -sT -T5 -Pn --script=default,safe,discovery,version
            CS_MSF_TMP_WS: disabled
            CS_MSF_EXPORT: enabled

metasploitable2:
  autostart: true
  networks:
    - private_network:
        adapter: 2
        type: dhcp
        ip: 172.28.128.0/24
  vbox:
    customize:
      memory: 1024

metasploitable3-win2008r2:
  autostart: true
  networks:
    - private_network:
        adapter: 2
        type: dhcp
        ip: 172.28.128.0/24
  vbox:
    customize:
      memory: 2048
